(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"0fa9":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"s-page-wrapper is-100vh"},[i("v-uni-view",{staticClass:"is-33vh has-mgt-10"},[i("v-uni-view",{staticClass:"is-flex is-column is-justify-center  is-align-center is-height-100"},[i("v-uni-image",{staticClass:"logoimg",attrs:{src:"../../static/logo.png",mode:"aspectFit"}}),i("v-uni-view",[e._v(e._s(e.telephone))])],1)],1),i("v-uni-view",{staticClass:"registercontent"},[i("v-uni-view",{staticClass:"has-mglr-10 "},[i("v-uni-view",{staticClass:" has-mgtb-10 "},[i("v-uni-input",{staticClass:"is-input1",attrs:{type:"text",placeholder:"请输入您的真实姓名"},model:{value:e.user_info.username,callback:function(t){e.$set(e.user_info,"username",t)},expression:"user_info.username"}})],1),i("v-uni-view",{staticClass:" has-mgtb-10 "},[i("v-uni-input",{staticClass:"is-input1",attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号"},model:{value:e.user_info.telephone,callback:function(t){e.$set(e.user_info,"telephone",t)},expression:"user_info.telephone"}})],1),i("v-uni-view",{staticClass:" has-mgtb-10 "},[i("v-uni-input",{staticClass:"is-input1",attrs:{type:"number",maxlength:"6",placeholder:"短信验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),i("v-uni-view",{staticClass:"codeimg",class:e.smsbtn.status?"":"disBtn",on:{click:function(t){t=e.$handleEvent(t),e.getsmscode(t)}}},[e._v(e._s(e.smsbtn.text))])],1),i("v-uni-view",{staticClass:" has-radius has-mgtb-10"},[i("v-uni-input",{staticClass:"is-input1",attrs:{placeholder:"请输入登录密码",password:!0},model:{value:e.user_info.userpwd,callback:function(t){e.$set(e.user_info,"userpwd",t)},expression:"user_info.userpwd"}})],1),i("v-uni-view",{staticClass:" has-radius has-mgtb-10"},[i("v-uni-input",{staticClass:"is-input1",attrs:{placeholder:"请再次登录密码",password:!0},model:{value:e.user_info.reuserpwd,callback:function(t){e.$set(e.user_info,"reuserpwd",t)},expression:"user_info.reuserpwd"}})],1),i("v-uni-view",{staticClass:" registerbtn has-radius has-mgtb-20",on:{click:function(t){t=e.$handleEvent(t),e.judgeUserCode(t)}}},[i("v-uni-button",[e._v("注 册")])],1)],1)],1),i("v-uni-view",{staticClass:"is-20vh has-mgt-80"},[i("v-uni-navigator",{staticClass:" has-radius is-center is-grey ",attrs:{url:"#","hover-class":""}},[i("v-uni-text",[e._v("注册即表示同意")]),i("v-uni-text",{staticClass:"is-blue"},[e._v("《用户协议》")])],1)],1)],1)},s=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s})},"440c":function(e,t,i){"use strict";i.r(t);var n=i("63ea"),s=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);t["default"]=s.a},"63ea":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{smsbtn:{text:"获取验证码",status:!0,codeTime:60},type:"",code:"",pwd:"",timerId:null,telephone:"",user_info:{username:"",telephone:"",userpwd:"",reuserpwd:"",openid:this.$store.state.openid?this.$store.state.openid:"",unionid:this.$store.state.unionid?this.$store.state.unionid:""}}},onLoad:function(e){this.type=e.type},methods:{getsmscode:function(){var e=this,t=/^1[345789]\d{9}$/,i={telephone:this.user_info.telephone};t.test(this.user_info.telephone)?(this.$api("upload/get_telephone_code","POST",i).then(function(e){e.data&&1e3==e.data.resultCode?uni.showToast({title:"验证码发送成功",icon:"none"}):uni.showToast({title:"验证码发送失败",icon:"none"})}).catch(function(e){console.log(e)}),this.timerId=setInterval(function(){var t=e.smsbtn.codeTime;t--,e.smsbtn.codeTime=t,e.smsbtn.text=t+"S",e.smsbtn.status=!1,t<1&&(clearInterval(e.timerId),e.smsbtn.text="重新获取",e.smsbtn.codeTime=60,e.smsbtn.status=!0)},1e3)):wx.showToast({title:"号码有误",icon:"none"})},judgeUserCode:function(){var e={telphone:this.user_info.telephone},t=this;this.$api("index/get_telephone_code","POST",e).then(function(e){console.log(e.data);var i=e.data[0].code;i==t.code?t.register():uni.showToast({title:"验证码错误"})}).catch(function(e){console.log(e)})},register:function(){var e=/^1[345789]\d{9}$/,t=this;if(!e.test(this.user_info.telephone))return wx.showToast({title:"号码有误",icon:"none"});if(this.user_info.userpwd&&this.user_info.userpwd!=this.user_info.reuserpwd)return wx.showToast({title:"两次密码不一致",icon:"none"});if(!this.user_info.unionid)return wx.showToast({title:"网络错误，请重新进入",icon:"none"});for(var i in this.user_info)if(!this.user_info[i])return wx.showToast({title:"输入不正确",icon:"none"});this.$api("index/user_register","POST",this.user_info).then(function(e){console.log(e),0===e.data.code?uni.showToast({title:e.data.message,icon:"success",success:function(e){setTimeout(function(){"upload"==t.type?uni.navigateTo({url:"../openshop/uploadcar/uploadcar"}):uni.navigateBack({delta:1})},1e3)},fail:function(e){throw new Error(e)}}):uni.showToast({title:e.data.message,icon:"none"})}).catch(function(e){throw new Error(e)})}}};t.default=n},9249:function(e,t,i){"use strict";var n=i("d5ee"),s=i.n(n);s.a},d5ee:function(e,t,i){var n=i("f24f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("4f06").default;s("0cf87875",n,!0,{sourceMap:!1,shadowMode:!1})},f24f:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-page-body[data-v-f3f1e5ea]{min-height:100%;background-color:#fff}.registercontent[data-v-f3f1e5ea]{width:85%;margin:0 auto}.logoimg[data-v-f3f1e5ea]{width:%?200?%;height:%?200?%;border-radius:50%;margin-top:%?80?%}.is-input1[data-v-f3f1e5ea]{height:%?88?%;width:100%;line-height:%?88?%;padding:0 %?12?%;color:#353535;font-size:%?32?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:%?2?% solid #e5e5e5;-webkit-box-shadow:none;box-shadow:none;border-radius:%?44?%;outline:0;display:block;padding-left:%?30?%;margin:0;font-family:inherit;background:#fff;resize:none}.iconfont[data-v-f3f1e5ea]{position:absolute;font-size:%?40?%;right:12%;z-index:999;width:%?105?%;text-align:center;color:#353535;margin-top:-11%;background:#fff;border-top-right-radius:%?44?%;border-bottom-right-radius:%?44?%;height:%?80?%;line-height:%?80?%}.codeimg[data-v-f3f1e5ea]{position:absolute;font-size:%?28?%;right:12%;z-index:999;width:%?200?%;text-align:center;color:#353535;margin-top:-11%;background:#fff;border-top-right-radius:%?44?%;border-bottom-right-radius:%?44?%;height:%?80?%;line-height:%?80?%}.registerbtn uni-button[data-v-f3f1e5ea]{margin-top:%?20?%;height:%?88?%;width:100%;line-height:%?88?%;color:#fff;font-size:%?32?%;border-radius:%?44?%;outline:0;display:block;margin:0;font-family:inherit;background:#f35;opacity:.8}uni-button[data-v-f3f1e5ea]:after{border:%?2?% solid #f2f2f2}.disBtn[data-v-f3f1e5ea]{pointer-events:none}body.?%PAGE?%[data-v-f3f1e5ea]{background-color:#fff}",""])},f262:function(e,t,i){"use strict";i.r(t);var n=i("0fa9"),s=i("440c");for(var o in s)"default"!==o&&function(e){i.d(t,e,function(){return s[e]})}(o);i("9249");var a=i("2877"),r=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"f3f1e5ea",null);t["default"]=r.exports}}]);